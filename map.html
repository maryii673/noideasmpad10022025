<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Map Page - No Ideas</title>
    <link href="styles.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Shadows+Into+Light&display=swap" rel="stylesheet">
    <style>
        /* General Styling */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Shadows Into Light', cursive;
        }

        body {
            background-color: #1a1a1a;
            color: white;
            text-align: center;
            scroll-behavior: smooth;
        }

        header {
            text-align: center;
            margin-top: 40px; /* Optional: adds space above */
            margin-bottom: 30px; /* Optional: adds space below */
        }

        header h1{
            font-size: 2.8em;
        }

        header p {
            font-size: 1.4em;
            color: white; 
            max-width: 600px;
            margin: 0 auto;
        }
            .scroll-indicator {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            margin-top: 30px;
            }

        .arrow {
        width: 20px;
        height: 20px;
        display: inline-block;
        transform: rotate(45deg);
        border-right: 4px solid rgb(255, 255, 255);
        border-bottom: 4px solid rgb(255, 255, 255);
        opacity: 0;
        animation: scrollAnim 1.5s infinite;
        }

        .arrow:nth-child(2) {
        animation-delay: 0.2s;
        }

        .arrow:nth-child(3) {
        animation-delay: 0.4s;
        }

        @keyframes scrollAnim {
        0% {
            opacity: 0;
            transform: translateY(0) rotate(45deg);
        }
        50% {
            opacity: 1;
            transform: translateY(10px) rotate(45deg);
        }
        100% {
            opacity: 0;
            transform: translateY(20px) rotate(45deg);
        }
        }


        /* Go Home Button (House Image) Styling */
        .go-home {
            position: fixed;
            top: 20px;
            left: 20px;
            display: inline-block;
            padding: 10px;
            transition: transform 0.3s ease;
        }

        .go-home img {
            width: 60px; /* Adjust the size of the house image */
            height: 60px;
            transition: transform 0.3s ease;
        }

        .go-home:hover img {
            transform: scale(1.1); /* Slightly enlarge the image on hover */
        }

        /* Sidebar Styling */
        .sidebar {
            position: fixed;
            right: 0;
            top: 100px;
            width: 60px; /* Small width for sidebar */
            background-color: #333;
            color: white;
            padding-top: 20px;
            text-align: center;
            box-shadow: -2px 2px 10px rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            z-index: 10; /* Ensure the sidebar is above other content */
        }

        .sidebar ul {
            list-style-type: none;
            padding: 0;
        }

        .sidebar ul li {
            padding: 10px;
        }

        .sidebar ul li a {
            color: white;
            text-decoration: none;
            font-size: 16px;
            display: block;
        }

        .sidebar ul li a:hover {
            background-color: #555;
        }

        /* Map Content Styling */
        #map-content {
            padding: 30px;
            background-color: #252525;
            border-radius: 10px;
            margin: 50px auto;
            width: 80%;
            text-align: center;
        }

        #map-container {
            margin-top: 30px;
        }

        #map-container iframe {
            width: 100%;
            height: 400px;
            border: none;
            border-radius: 8px;
        }

        /* Scroll to Top Button Styling */
        .scroll-top {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: #333;
            border: none;
            cursor: pointer;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s ease, transform 0.3s ease;
        }

        .scroll-top:hover {
            background-color: #555;
            transform: scale(1.1);
        }

        .scroll-top:active {
            background-color: #444;
            transform: scale(0.95);
        }

        /* Image inside button */
        .scroll-top img {
            width: 170px;
            height: 170px;
            object-fit: contain;
            transform: translate(-41px, -40px); /* Left and Up */
        }


        /* Hamburger Icon */
        .hamburger-icon {
            position: fixed;
            right: 20px;
            top: 20px;
            z-index: 1000;
            cursor: pointer;
        }

        .hamburger-icon img {
            width: 60px;
            height: 60px;
        }

        .scroll-container {
            width: 100%;
            }
        /* === Comic Panel Rows === */
        .panel-row {
            display: grid;
            gap: 20px;
            margin: 30px auto;
            padding: 0 2rem;
            max-width: 1200px;
            margin-top: 50px;
        }

        /* Flashback Panels */
        .flashback-panels {
            opacity: 0;  /* Initially hidden */
            transition: opacity 2s ease-in-out; /* Fade-in effect */
            width: 30%;  /* Set a fixed size for the images */
            height: auto;
            object-fit: contain;
            margin: 0 10px; /* Add some margin between each image */
        }

        /* When rotating, fade in the panels */
        .flashback-panels.visible {
            opacity: 1; /* Fade in to full visibility */
        }

        /* Flashback Panels container (to ensure spacing between panels) */
        #flashback-panels {
            display: flex;
            justify-content: space-between;
            gap: 30px;  /* Increased gap between the images */
            margin-bottom: 50px; /* Add space between panels and any content below */
        }

        /* To stagger the panels' fade-in delay */
        .flashback-panels:nth-child(1) {
            transition-delay: 0s; /* First image fades in immediately */
        }

        .flashback-panels:nth-child(2) {
            transition-delay: 0.3s; /* Second image fades in after 0.3s */
        }

        .flashback-panels:nth-child(3) {
            transition-delay: 0.6s; /* Third image fades in after 0.6s */
        }


        /* Responsive grid layout */
        .row-1 {
            grid-template-columns: 1fr;
        }

        .row-2 {
            grid-template-columns: 1fr 1fr;
        }

        .row-3 {
            grid-template-columns: 1fr 1fr 1fr;
        }

        @media (max-width: 1100px) {
            .row-2,
            .row-3 {
                grid-template-columns: 1fr;
            }

            .panel {
                width: 100%;
                height: auto;
                max-width: 100%;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
                object-fit: cover;
            }
        }

        .panel:hover {
            transform: scale(1.03);
        }

        /* IMAGE PANEL (fades in last) */
        .revealing-image {
        width: 100%;
        margin-top: 40px;
        opacity: 0;
        transition: opacity 2s ease 2s, transform 2s ease 2s; /* fade + slide + delay */
        }

        .revealing-image.visible {
        opacity: 1;
        }

        /* Chapter Wrapper */
        .chapter-wrapper {
        margin: 100px auto;
        padding: 80px 40px;
        background-color: #333;
        border-radius: 20px;
        width: 85%;
        max-width: 1200px;
        opacity: 0;
        transform: translateY(30px); /* Start with an off-screen effect */
        transition: opacity 1s ease-in-out, transform 1s ease-in-out; /* Animation on scroll */
        }

        /* Chapter Title */
        .chapter-title {
        font-size: 2.5em;
        font-weight: 800;
        margin-top: 200px;
        margin-bottom: 30px;
        color: white;
        text-align: center;
        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
        opacity: 0;
        transform: translateY(30px); /* Start off-screen */
        transition: opacity 1s ease-in-out, transform 1s ease-in-out;
        }

        .chapter-title.visible {
        opacity: 1;
        transform: translateY(0);
        }

        /* Chapter Content (Text) */
        .chapter-content {
        color: white;
        text-align: center;
        font-size: 1.2em;
        max-width: 700px;
        margin: 0 auto 250px auto;
        opacity: 0;
        transform: translateY(30px); /* Start off-screen */
        transition: opacity 1s ease 0.7s, transform 1s ease 0.7s; /* delay of 0.5s */
        }

        .chapter-content.visible {
        opacity: 1;
        transform: translateY(0);
        }

        /* When elements are revealed, they will slide in and fade into view */
        .chapter-title.visible, .chapter-content.visible {
        opacity: 1;
        transform: translateY(0); /* Slide in */
        }
        /* Toggle Button */
        .sidebar-toggle {
            position: fixed;
            right: 20px;
            top: 20px;
            z-index: 1000;
            cursor: pointer;
        }

        .sidebar-toggle img {
            width: 60px;
            height: 60px;
        }

        /* Fullscreen & Auto Scroll Buttons - Circle Style */
        .fullscreen-btn,
        .auto-btn {
            position: fixed;
            bottom: 20px;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: #333;
            color: white;
            border: none;
            cursor: pointer;
            z-index: 999;
            transition: transform 0.3s ease, background-color 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
        }

        /* Individual Positioning */
        .fullscreen-btn {
            right: 140px;
        }

        .auto-btn {
            right: 50px;
        }

        /* Hover Effects */
        .fullscreen-btn:hover,
        .auto-btn:hover {
            background-color: #555;
            transform: scale(1.1);
        }

        .fullscreen-btn:active,
        .auto-btn:active {
            background-color: #444;
            transform: scale(0.95);
        }

        /* Zoom effect when hovering */
        .fullscreen-btn:hover,
        .auto-btn:hover {
            transform: scale(1.2); /* Slight zoom-in on hover */
        }

       /* Rain Overlay for Panel 1 */
        .rain-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none; /* Ensure the rain doesn't interfere with other interactions */
            z-index: 1;
            overflow: hidden;
        }

        /* Styling individual raindrops with faded look */
        .raindrop {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.3); /* Light, transparent color for raindrops */
            width: 3px; /* Thinner drops */
            height: 50px; /* Longer drops for the pouring effect */
            animation: fall 0.5s linear infinite; /* Animation to make raindrops fall */
        }

        /* Falling animation for rain */
        @keyframes fall {
            0% {
                transform: translateY(-210px); /* Start above the screen */
            }
            100% {
                transform: translateY(60vh); /* Move to the bottom of the screen */
            }
        }

        /* Adding some variation in raindrop positions and speeds */
        .rain-overlay .raindrop:nth-child(odd) {
            left: 5%;
            animation-duration: 0.4s; /* Faster drops for more intensity */
            animation-delay: 0.2s;
        }

        .rain-overlay .raindrop:nth-child(even) {
            left: 25%;
            animation-duration: 0.5s;
            animation-delay: 0.5s;
        }

        .rain-overlay .raindrop:nth-child(3) {
            left: 45%;
            animation-duration: 0.6s;
            animation-delay: 0.8s;
        }

        .rain-overlay .raindrop:nth-child(4) {
            left: 65%;
            animation-duration: 0.7s;
            animation-delay: 1s;
        }

        .rain-overlay .raindrop:nth-child(5) {
            left: 85%;
            animation-duration: 0.45s;
            animation-delay: 1.2s;
        }
      
       
       /* Thunder Animate for Panel 8 */
       @keyframes thunderShake {
        0%, 100% { transform: translate(0, 0); }
        5% { transform: translate(-30px, 25px); }
        10% { transform: translate(30px, -30px); }
        15% { transform: translate(-25px, 25px); }
        20% { transform: translate(25px, -20px); }
        25% { transform: translate(-20px, 15px); }
        30% { transform: translate(20px, -25px); }
        35% { transform: translate(-30px, 30px); }
        40% { transform: translate(30px, -30px); }
        45% { transform: translate(-25px, 25px); }
        50% { transform: translate(25px, -25px); }
      }

      .thunder-effect {
        animation: thunderShake 1.5s ease;
      }

      /* Shock Animation for Panel 15 */
        .shock-animation {
        position: relative;
        display: inline-block;
        animation: shock-pulse 0.6s ease-out;
      }

      @keyframes shock-pulse {
        0% {
          transform: scale(1);
        }
        30% {
          transform: scale(1.1);
        }
        100% {
          transform: scale(1);
        }
      }

      .shock-ripple {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 250px;
        height: 250px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 50%;
        transform: translate(-50%, -50%) scale(0);
        animation: ripple-burst 0.7s ease-out forwards;
        pointer-events: none;
      }

      @keyframes ripple-burst {
        to {
          transform: translate(-50%, -50%) scale(2);
          opacity: 0;
        }
      }

      .shock-exclamations {
        position: absolute;
        top: -100px;
        left: -5%;
        transform: translateX(-50%);
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 5rem;
        color: #fff;
        animation: exclamation-animation 1s ease-in-out infinite;
      }

      .shock-exclamations img {
        width: 410px;  /* Adjust size of the PNG image */
        height: auto;
      }

      @keyframes exclamation-animation {
        0% {
          transform: scale(1);
          opacity: 0.8;
        }
        50% {
          transform: scale(1.2); /* Only pulse */
          opacity: 1;
        }
        100% {
          transform: scale(1);
          opacity: 0.8;
        }
      }

      @keyframes exclamation-fade {
        0% {
          opacity: 0;
        }
        50% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }


      /* Add this to make the shock effect conditional */
    .shock-animation.shock-active .shock-ripple {
      animation: ripple-burst 0.7s ease-out forwards;
    }

    .shock-animation.shock-active .shock-exclamations {
      animation: exclamation-animation 1s ease-in-out infinite;
    }

    /* Initially hide the letter */
      .is-hidden {
        display: none;
      }

      /* Styling for the letter container */
      #letterSection {
        text-align: center; /* Center the content */
        margin-top: 50px;
        padding: 20px;
      }

      /* Basic styles for the letter */
      .letter {
        padding: 100px 40px; /* Increased padding for more space inside the letter */
        background-image: url('letter.png'); /* Set the PNG background */
        background-size: contain; /* Ensure the image is fully visible */
        background-repeat: no-repeat; /* Prevent img from repeating */
        background-position: top center; /* Center the image */
        max-width: 1000px; /* Further increased max width for better readability */
        max-height: 700px; /* Set a max height to allow for bigger letter */
        margin: 70px auto; /* Increased margin for more space around the letter */
        font-family: Arial, sans-serif;
        text-align: left;
        color: black; /* Set text color to black */
        line-height: 1.6; /* Increased line height for better readability */
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1); /* Added more shadow for better depth */
        position: relative; /* Allows precise positioning of text */

        /* Flexbox to center content vertically and horizontally */
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;
          text-align: center; /* Ensures text is centered */
      }
      

     /* Styling for the text inside the letter */
      .letter p {
        font-size: 16px; /* Smaller text size */
        position: relative;
        z-index: 2; /* Ensure text appears above the background image */
        margin-bottom: 20px; /* Space between text elements */
        margin-top: 50px;
      }

      /* Button styling */
      button {
        padding: 16px 32px;
        background-color: #3498db;
        color: white;
        border: none;
        cursor: pointer;
        font-size: 18px;
        border-radius: 5px; /* Rounded corners */
        margin: 20px 0; /* Add some space between buttons */
        transition: background-color 0.3s;
      }

      button:hover {
        background-color: #2980b9;
      }

      button:focus {
        outline: none;
      }

      /* Add spacing between the panels and the text above the letter section */
      .letter-notice {
        text-align: center;
        margin-top: 20px;
        font-size: 18px;
        line-height: 1.5;
      }

      /* Add space around the section */
      #letterSection {
        margin-top: 50px;
        padding: 20px;
      }


      /* Styling for the clock-wrapper */

      #compass-container {
        margin-top: 100px;
        }

      #compass-wrapper {
        position: relative;
        width: 300px;
        height: 300px;
        margin: 0 auto;
        margin-top: 60px;
        }

        #compass {
        width: 100%;
        height: auto;
        display: block;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) rotate(0deg);
        transform-origin: 50% 50%; /* Rotate around center */
        transition: transform 0.3s ease;
        }

        #compass-rotation {
        width: 100%;
        margin-top: 30px;
        }

        #compass-text {
        margin-top: 25px;
        font-style: italic;
        color: #ccc;
        text-align: center;
        }

        footer {
        background-color: #1a1a1a;;
        color: white;
        text-align: center;
        padding: 30px 0;
        font-size: 1em;
        opacity: 0.8;
        margin-top: 60px;
        }

    </style>
</head>
<body>

    <header>
        <h1>WELCOME TO NORMAN'S ADVENTURE</h1>
        <p>SCROLL TO UNCOVER HIS JOURNEY</p>
        <div class="scroll-indicator">
            <span class="arrow"></span>
            <span class="arrow"></span>
            <span class="arrow"></span>
        </div>
    </header>

    <!-- Go Home Button (House Image) -->
    <a href="index.html" class="go-home">
        <img src="house-icon.png" alt="Go Home"> 
    </a>

     <!-- Hamburger Icon to Toggle Sidebar -->
     <div class="hamburger-icon" onclick="toggleSidebar()">
        <img src="hamburger-icon.png" alt="Hamburger Icon">
    </div>


    <!-- Sidebar with Chapter Links (on the far right) -->
    <div class="sidebar">
        <ul>
            <li><a href="#chapter1">Ch. 1</a><li>
            <li><a href="#chapter2">Ch. 2</a><li>
            <li><a href="#chapter3">Ch. 3</a><li>
            <li><a href="#chapter4">Ch. 4</a><li>
            <li><a href="#chapter5">Ch. 5</a><li>
            <li><a href="#chapter6">Epilogue</a><li>
        </ul>
    </div>


    <!-- Chapter Sections -->
     <!-- CHAPTER 1 -->
<div id="chapter1">
    <h2 class="chapter-title hidden">CHAPTER 1: The House</h2>
    <section class="chapter-section">
      <div class="chapter-content">
        <p class="hidden">A small, run-down house stands alone in the middle of the forest. The roof is broken, the walls are warped, and vines creep up the sides. A single window glows faintly in the dark.</p>
        
        <!-- First Panel Row with One Panel -->
        <div class="panel-row row-1 hidden">
          <img id="panel_1" class="panel revealing-image" src="Panel_1.png" alt="Chapter 1 Panel 1">
          <div class="rain-overlay">
             <!-- These divs simulate raindrops -->
            <div class="raindrop"></div>
            <div class="raindrop"></div>
            <div class="raindrop"></div>
            <div class="raindrop"></div>
            <div class="raindrop"></div>
            <!-- Add as many raindrop divs as needed -->
          </div>  
        </div>

        <p class="hidden">Norman struggles to write, his cursor hovering over a blank page.<br> His frustration is obvious. He feels stuck. </p>
        
        <!-- Second Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="Panel_2.png" alt="Chapter 1 Panel 2">
          <img class="panel revealing-image" src="Panel_3.png" alt="Chapter 1 Panel 3">
    </div>

       
        
        <p class="hidden">Tears fall from Norman's overwhelmed eyes as he struggles to find inspiration.<br> He thinks of his dad. </p>

        <!-- Interactivity trigger -->
        <section id="compass-container">
            <div>
              <label for="compass-rotation">Spin the Compass To Help Norman Remember His Past!</label>
              <p id="compass-text">Drag to Rotate the Compass ( <output id="compass-value">0</output> degrees)</p>
            </div>
          
            <!-- Compass layout -->
            <div id="compass-wrapper">
              <div id="compass">
              <img id="compass" src="compass-icon.png" alt="Compass">
              </div>
            </div>
          
            <!-- Range input to control the compass needle rotation -->
            <input type="range" id="compass-rotation" min="0" max="360" value="0" step="1">
          </section>
          
        
        <!-- Third Panel Row with Three Panels -->
        <div id="flashback-panels" class="panel-row row-3">
        <img class="panel flashback-panels" src="Panel_4.png" alt="Chapter 1 Panel 4">
        <img class="panel flashback-panels" src="Panel_5.png" alt="Chapter 1 Panel 5">
        <img class="panel flashback-panels" src="Panel_6.png" alt="Chapter 1 Panel 6">
    </div>

        <p class="hidden"><em>A flashback to Norman and his mom standing at his dad's grave, the sorrow heavy in the air.</em></p>
        <p class="hidden"><em>Norman recalls crying to his mom about his father's death, her silent comfort in return.</em><p>
        <p class="hidden"><em>Norman's mom hands him a book that belonged to his father, offering it silently.</em></p>

           <!-- Fourth Panel Row with One Panel -->
           <div class="panel-row row-1 hidden">
            <img class="panel revealing-image" src="Panel_7.png" alt="Chapter 1 Panel 7">
          </div>
  
          <p class="hidden">He snaps back to his reality.<br> Norman takes a deep breath and walks toward the book his mom gave him.</p>
        
        <!-- Fifth Panel Row with Two Panels -->
        <div class="panel-row row-1 hidden">
          <img id="panel-8" class="panel revealing-image" src="Panel_8.png" alt="Chapter 1 Panel 8">
          <audio id="thunderSound" src="thunder.mp3" preload="auto"></audio>
        </div>
        
        <p class="hidden">Meanwhile, a storm starts to rage outside, lightning cracking through the sky.</p>
        

        <!-- Sixth Panel Row with One Panel -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="Panel_9.png" alt="Chapter 1 Panel 9">
          <img class="panel revealing-image" src="Panel_10.png" alt="Chapter 1 Panel 10">
        </div>

        <p class="hidden">The lights flicker and go out, leaving Norman in total darkness.<br> Norman walks down the stairs, his footsteps echoing. </p>

        <!-- Seventh Panel Row with Three Panels -->
        <div class="panel-row row-2 hidden">
            <img class="panel revealing-image" src="Panel_11.png" alt="Chapter 1 Panel 11">
          <img class="panel revealing-image" src="Panel_12.png" alt="Chapter 1 Panel 12">
        </div>

        <p class="hidden">Norman checks the fuse box, his unease growing. Norman freezes.<br> His eyes widen as he sees a crow perched on the nearby window.<p>

        <!-- Eigth Panel Row with Three Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="Panel_13.png" alt="Chapter 1 Panel 13">
          <img class="panel revealing-image" src="Panel_14.png" alt="Chapter 1 Panel 14">
        </div>

        <p class="hidden">Norman notices the crow with something in its beak.<br> Intrigued, he steps closer to get a better look.<br> It's a letter.</p>

      <!-- Section containing the button and letter -->
      <section id="letterSection">
        <!-- Button to Open the Letter -->
        <button id="openLetterButton">Read Letter</button>

        <!-- The Letter Container -->
        <div id="letterContainer" class="is-hidden">
          <div class="letter">
            <p><strong>Dear Norman,</strong></p>
            <p>There’s only so much I can say right now.<br> I know the past few years have been incredibly tough on you, but it’s time to move forward.<br> The answers will come in time. You’ll understand soon enough.<br>With love,<br> Dad.</p>
            <!-- Button to Close the Letter -->
            <button id="closeLetterButton">Close Letter</button>
          </div>
        </div>
      </section>

         <!-- Nineth Panel Row with One Panel -->
         <div class="panel-row row-1 hidden shock-effect">
          <div class="shock-animation" id="shock_panel">
            <img class="panel revealing-image" src="Panel_15.png" alt="Chapter 1 Panel 15">
            <div class="shock-ripple"></div> <!-- ripple visual -->
            <div class="shock-exclamations">
            <img src="exclamation-image.png" alt="Shock Exclamation" class="shock-img">
            </div> <!-- Exclamation marks effect -->
          </div>
        </div>
        

          <p class="hidden">Norman’s eyes widen as he reads the letter, stunned by the revelation that his father is alive.</p>


    </div>
  </section>
</div>


  <!-- CHAPTER 2 -->
  <div id="chapter2">
    <h2 class="chapter-title hidden">CHAPTER 2: The Map</h2>
    <section class="chapter-section">
    <section class="chapter-content">
        <p class="hidden">This chapter introduces the main characters...</p>

        <!-- First Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="cover_page.png" alt="Chapter 2 Panel 1">
          <img class="panel revealing-image" src="chapter2-img2.jpg" alt="Chapter 2 Panel 2">
        </div>
    
        <p class="hidden">The air was thick with dust, and every step echoed against the cold stone floors.</p>
    
        <!-- Second Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter2-img3.jpg" alt="Chapter 2 Panel 3">
          <img class="panel revealing-image" src="chapter2-img4.jpg" alt="Chapter 2 Panel 4">
        </div>
    
        <p class="hidden">They didn’t know it yet, but what waited beyond those walls would change them forever...</p>
    
        <!-- Third Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter2-img5.jpg" alt="Chapter 2 Panel 5">
          <img class="panel revealing-image" src="chapter2-img6.jpg" alt="Chapter 2 Panel 6">
        </div>
    
        <p class="hidden">As the map is uncovered, the mystery deepens, and the path forward becomes clearer.</p>
    
        <!-- Fourth Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter2-img7.jpg" alt="Chapter 2 Panel 7">
          <img class="panel revealing-image" src="chapter2-img8.jpg" alt="Chapter 2 Panel 8">
        </div>
    
        <p class="hidden">They begin to decipher the ancient symbols on the map, each one telling a story of its own.</p>
    
        <!-- Fifth Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter2-img9.jpg" alt="Chapter 2 Panel 9">
          <img class="panel revealing-image" src="chapter2-img10.jpg" alt="Chapter 2 Panel 10">
        </div>
    
        <p class="hidden">The group realizes they must act quickly before the map’s secrets are lost forever.</p>
    
        <!-- Sixth Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter2-img11.jpg" alt="Chapter 2 Panel 11">
          <img class="panel revealing-image" src="chapter2-img12.jpg" alt="Chapter 2 Panel 12">
        </div>
    </section>
  </div>
  
  <!-- CHAPTER 3 -->
  <div id="chapter3">
    <h2 class="chapter-title hidden">CHAPTER 3: The Cabin</h2>
    <section class="chapter-section">
      <div class="chapter-content">
        <p class="hidden">This chapter introduces the main characters...</p>

        <!-- First Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="cover_page.png" alt="Chapter 3 Panel 1">
          <img class="panel revealing-image" src="chapter3-img2.jpg" alt="Chapter 3 Panel 2">
        </div>
    
        <p class="hidden">The air was thick with dust, and every step echoed against the cold stone floors.</p>
    
        <!-- Second Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter3-img3.jpg" alt="Chapter 3 Panel 3">
          <img class="panel revealing-image" src="chapter3-img4.jpg" alt="Chapter 3 Panel 4">
        </div>
    
        <p class="hidden">They didn’t know it yet, but what waited beyond those walls would change them forever...</p>
    
        <!-- Third Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter3-img5.jpg" alt="Chapter 3 Panel 5">
          <img class="panel revealing-image" src="chapter3-img6.jpg" alt="Chapter 3 Panel 6">
        </div>
    
        <p class="hidden">As the map is uncovered, the mystery deepens, and the path forward becomes clearer.</p>
    
        <!-- Fourth Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter3-img7.jpg" alt="Chapter 3 Panel 7">
          <img class="panel revealing-image" src="chapter3-img8.jpg" alt="Chapter 3 Panel 8">
        </div>
    
        <p class="hidden">They begin to decipher the ancient symbols on the map, each one telling a story of its own.</p>
    
        <!-- Fifth Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter3-img9.jpg" alt="Chapter 3 Panel 9">
          <img class="panel revealing-image" src="chapter3-img10.jpg" alt="Chapter 3 Panel 10">
        </div>
    
        <p class="hidden">The group realizes they must act quickly before the map’s secrets are lost forever.</p>
    
        <!-- Sixth Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter3-img11.jpg" alt="Chapter 3 Panel 11">
          <img class="panel revealing-image" src="chapter3-img12.jpg" alt="Chapter 3 Panel 12">
        </div>
    </section>
  </div>
  
  <!-- CHAPTER 4 -->
  <div id="chapter4">
    <h2 class="chapter-title hidden">CHAPTER 4: The Tower</h2>
    <section class="chapter-section">
      <div class="chapter-content">
        <p class="hidden">This chapter introduces the main characters...</p>

        <!-- First Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="cover_page.png" alt="Chapter 4 Panel 1">
          <img class="panel revealing-image" src="chapter4-img2.jpg" alt="Chapter 4 Panel 2">
        </div>
    
        <p class="hidden">The air was thick with dust, and every step echoed against the cold stone floors.</p>
    
        <!-- Second Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter4-img3.jpg" alt="Chapter 4 Panel 3">
          <img class="panel revealing-image" src="chapter4-img4.jpg" alt="Chapter 4 Panel 4">
        </div>
    
        <p class="hidden">They didn’t know it yet, but what waited beyond those walls would change them forever...</p>
    
        <!-- Third Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter4-img5.jpg" alt="Chapter 4 Panel 5">
          <img class="panel revealing-image" src="chapter4-img6.jpg" alt="Chapter 4 Panel 6">
        </div>
    
        <p class="hidden">As the map is uncovered, the mystery deepens, and the path forward becomes clearer.</p>
    
        <!-- Fourth Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter4-img7.jpg" alt="Chapter 4 Panel 7">
          <img class="panel revealing-image" src="chapter4-img8.jpg" alt="Chapter 4 Panel 8">
        </div>
    
        <p class="hidden">They begin to decipher the ancient symbols on the map, each one telling a story of its own.</p>
    
        <!-- Fifth Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter4-img9.jpg" alt="Chapter 4 Panel 9">
          <img class="panel revealing-image" src="chapter4-img10.jpg" alt="Chapter 4 Panel 10">
        </div>
    
        <p class="hidden">The group realizes they must act quickly before the map’s secrets are lost forever.</p>
    
        <!-- Sixth Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter4-img11.jpg" alt="Chapter 4 Panel 11">
          <img class="panel revealing-image" src="chapter4-img12.jpg" alt="Chapter 4 Panel 12">
        </div>
    </section>
  </div>
  
  <!-- CHAPTER 5 -->
  <div id="chapter5">
    <h2 class="chapter-title hidden">CHAPTER 5: The Oak Tree</h2>
    <section class="chapter-section">
    <div class="chapter-content">
        <p class="hidden">This chapter introduces the main characters...</p>

        <!-- First Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="cover_page.png" alt="Chapter 5 Panel 1">
          <img class="panel revealing-image" src="chapter5-img2.jpg" alt="Chapter 5 Panel 2">
        </div>
    
        <p class="hidden">The air was thick with dust, and every step echoed against the cold stone floors.</p>
    
        <!-- Second Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter5-img3.jpg" alt="Chapter 5 Panel 3">
          <img class="panel revealing-image" src="chapter5-img4.jpg" alt="Chapter 5 Panel 4">
        </div>
    
        <p class="hidden">They didn’t know it yet, but what waited beyond those walls would change them forever...</p>
    
        <!-- Third Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter5-img5.jpg" alt="Chapter 5 Panel 5">
          <img class="panel revealing-image" src="chapter5-img6.jpg" alt="Chapter 5 Panel 6">
        </div>
    
        <p class="hidden">As the map is uncovered, the mystery deepens, and the path forward becomes clearer.</p>
    
        <!-- Fourth Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter5-img7.jpg" alt="Chapter 5 Panel 7">
          <img class="panel revealing-image" src="chapter5-img8.jpg" alt="Chapter 5 Panel 8">
        </div>
    
        <p class="hidden">They begin to decipher the ancient symbols on the map, each one telling a story of its own.</p>
    
        <!-- Fifth Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter5-img9.jpg" alt="Chapter 5 Panel 9">
          <img class="panel revealing-image" src="chapter5-img10.jpg" alt="Chapter 5 Panel 10">
        </div>
    
        <p class="hidden">The group realizes they must act quickly before the map’s secrets are lost forever.</p>
    
        <!-- Sixth Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter5-img11.jpg" alt="Chapter 5 Panel 11">
          <img class="panel revealing-image" src="chapter5-img12.jpg" alt="Chapter 5 Panel 12">
        </div>
    </section>
  </div>
  


  <!-- EPILOGUE -->
  <div id="chapter6">
    <h2 class="chapter-title hidden">EPILOGUE: The Book</h2>
    <section class="chapter-section">
      <div class="chapter-content">
        <p class="hidden">This chapter introduces the main characters...</p>

        <!-- First Panel Row with Two Panels -->
        <div class="panel-row row-1 hidden">
          <img class="panel revealing-image" src="cover_page.png" alt="Epilogue Panel 1">
        </div>
    
        <p class="hidden">The air was thick with dust, and every step echoed against the cold stone floors.</p>
    
        <!-- Second Panel Row with Two Panels -->
        <div class="panel-row row-1 hidden">
          <img class="panel revealing-image" src="cover_page.png" alt="Epilogue Panel 2">
        </div>
    </section>
  </div>
  
      

    <footer>
        <!-- Scroll-to-Top Button -->
        <a href="#" class="scroll-top" id="scrollTopBtn">
            <img src="up-arrow.png" alt="Up">
        </a>

   <!-- Auto and Fullscreen Buttons -->
<button class="auto-btn" onclick="autoScroll()">
    <img src="auto-icon.png" alt="Auto Scroll" style="width: 70px; height: 70px;">
</button>

<button class="fullscreen-btn" onclick="toggleFullscreen()">
    <img src="fullscreen-icon.png" alt="Fullscreen" style="width: 50px; height: 50px;">
</button>

<p>&copy; 2025 No Ideas. All Rights Reserved.</p>
    </footer>

    
   
 <script>

    // Reveal sections when they come into view and also on page load
    const sections = document.querySelectorAll('.chapter-section');
    const scrollTopBtn = document.getElementById('scrollTopBtn');

    // Function to reveal sections
    function revealSections() {
        sections.forEach(section => {
            const rect = section.getBoundingClientRect();
            if (rect.top >= 0 && rect.bottom <= window.innerHeight) {
                section.classList.add('visible');
                const image = section.querySelector('.revealing-image');
                image && image.classList.add('visible');
            }
        });
    }

    // Run the function immediately when the page loads
    revealSections();

    // Add scroll event listener to reveal sections as the user scrolls
    window.addEventListener('scroll', () => {
        revealSections(); // Re-check sections visibility on scroll

        // Show or hide the Scroll-to-Top button based on scroll position
        if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
            scrollTopBtn.style.display = 'block';
        } else {
            scrollTopBtn.style.display = 'none';
        }
    });

    // Fullscreen Toggle Function
    function toggleFullscreen() {
        if (!document.fullscreenElement) {
            document.documentElement.requestFullscreen().catch(err => {
                console.log(`Error attempting to enable full-screen mode: ${err.message}`);
            });
        } else {
            document.exitFullscreen();
        }
    }

    // Auto Scroll Function
    let scrolling;
    function autoScroll() {
        if (scrolling) {
            clearInterval(scrolling);
            scrolling = null;
        } else {
            scrolling = setInterval(() => {
                window.scrollBy(0, 2); // Adjust speed here
            }, 50);
        }
    }

    // Scroll to top functionality
    scrollTopBtn.addEventListener('click', (e) => {
        e.preventDefault();
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });

    // Scroll to specific chapter
    function scrollToChapter(chapterId) {
    const element = document.getElementById(chapterId);
    if (element) {
        element.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
    }


    // Toggle sidebar visibility
    function toggleSidebar() {
        const sidebar = document.querySelector('.sidebar');
        if (sidebar.style.width === '0px' || sidebar.style.width === '') {
            sidebar.style.width = '200px'; // Set to desired width
        } else {
            sidebar.style.width = '0'; // Hide the sidebar
        }
    }

    // Initialize the Intersection Observer
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
        if (entry.isIntersecting) {
            const target = entry.target;
            target.classList.add('visible');

            // Reveal images after chapter content
            if (target.classList.contains('chapter-content')) {
            const images = target.querySelectorAll('.revealing-image');
            images.forEach((img, i) => {
                setTimeout(() => {
                img.classList.add('visible');
                }, 1000 + i * 300); // stagger if there are multiple
            });
            }
        }
        });
    }, { threshold: 0.2 });

    document.querySelectorAll('.chapter-title, .chapter-content').forEach(el => {
        observer.observe(el);
    });



    // Function to get the query string value
    function getQueryParam(param) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(param);
    }

    // Scroll to the chapter on page load
    window.addEventListener('DOMContentLoaded', () => {
        const chapterId = getQueryParam('chapter'); // e.g., 'chapter1', 'chapter2', etc.
        if (chapterId) {
        const target = document.getElementById(chapterId);
        if (target) {
            // Delay to allow layout to finish rendering
            setTimeout(() => {
            target.scrollIntoView({ behavior: 'smooth' });
            }, 200); // You can adjust the delay if needed
        }
        }
    });

    // Rain overlay for panel 1
    document.addEventListener('DOMContentLoaded', () => {
    const panel1 = document.getElementById('panel_1'); // Panel 1 image
    const rainOverlay = document.querySelector('.rain-overlay'); // Rain overlay element

    // Function to trigger the rain animation
    function triggerRainEffect() {
        rainOverlay.classList.add('rain-animation');  // Add class to show the rain effect
    }

    // Scroll event to check if the panel is in view
    window.addEventListener('scroll', () => {
        const rect = panel1.getBoundingClientRect(); // Use panel_1 to check if it's in view
        const inView = rect.top < window.innerHeight && rect.bottom > 0;

        if (inView) {
            triggerRainEffect();  // Trigger rain animation when panel is in view
        }
    });
});



   // Thunder shake for panel 8
   document.addEventListener('DOMContentLoaded', () => {
    const panel8 = document.getElementById('panel-8');
    const thunderSound = document.getElementById('thunderSound');
    
    let hasPlayedThunder = false;  // Flag to ensure sound plays only once when first scroll

    // Function to trigger the thunder shake effect
    function triggerThunderShake() {
        let shakeCount = 0;
        const totalShakes = 3;  // You can change this value to adjust the number of shakes

        // Prevent shake if it's already happening
        if (panel8.classList.contains('thunder-effect')) return;

        let shakeInterval = setInterval(() => {
            panel8.classList.add('thunder-effect');

            // Play thunder sound each time (repeat 3 times or any other number)
            if (!hasPlayedThunder) {
                thunderSound.play();
                hasPlayedThunder = true;  // Mark the sound as played only on the first scroll
            }

            // Remove the shake effect after 1.5 seconds
            setTimeout(() => {
                panel8.classList.remove('thunder-effect');
            }, 1500);

            shakeCount++;
            if (shakeCount >= totalShakes) {
                clearInterval(shakeInterval);  // Stop shaking after total shakes
            }
        }, 1500);  // Shake every 1 second (adjustable for the desired timing)
    }

    // Scroll event to check if the panel is in view
    window.addEventListener('scroll', () => {
        const rect = panel8.getBoundingClientRect();
        const inView = rect.top < window.innerHeight && rect.bottom > 0;

        // Trigger the thunder shake only the first time the panel enters view
        if (inView && !hasPlayedThunder) {
            triggerThunderShake();  // Trigger shake if the panel is in view
        }
    });
});

    
// Shock animation for panel 15
  const shockImg = document.getElementById('shock_panel');

  const shockObserver = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting && !shockImg.classList.contains('shocked')) {
        shockImg.classList.add('shocked');
      }
    });
  }, { threshold: 0.5 });

  shockObserver.observe(shockImg);


// Letter Button
  document.addEventListener('DOMContentLoaded', function() {
    // Get the elements
    const openLetterButton = document.getElementById('openLetterButton');
    const closeLetterButton = document.getElementById('closeLetterButton');
    const letterContainer = document.getElementById('letterContainer');

    // Add event listener to the "Read Letter" button
    openLetterButton.addEventListener('click', function() {
      // Show the letter when "Read Letter" is clicked
      letterContainer.classList.remove('is-hidden');
    });

    // Add event listener to the "Close Letter" button
    closeLetterButton.addEventListener('click', function() {
      // Close the letter and hide it again
      letterContainer.classList.add('is-hidden');
    });
  });




    // Compass Interactivity
    const rotationInput = document.getElementById("compass-rotation");
    const compass = document.getElementById("compass");
    const compassValue = document.getElementById("compass-value");

    rotationInput.addEventListener("input", function () {
        const degrees = this.value;
        compass.style.transform = `translate(-50%, -50%) rotate(${degrees}deg)`;
        compassValue.textContent = degrees;
    });

    // Compass rotating linked to flashback panels

    document.getElementById('compass-rotation').addEventListener('input', function() {
    // Add the 'visible' class to the flashback panels when the compass is rotated
    document.querySelectorAll('.flashback-panels').forEach(function(panel) {
        panel.classList.add('visible');
    });
    });

    </script>

<audio id="thunderSound" src="thunder.mp3" preload="auto"></audio>


</body>
</html>







