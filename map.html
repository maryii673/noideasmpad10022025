<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Map Page - No Ideas</title>
    <link href="styles.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Shadows+Into+Light&display=swap" rel="stylesheet">
    <style>
        /* General Styling */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Shadows Into Light', cursive;
        }

        body {
            background-color: #1a1a1a;
            color: white;
            text-align: center;
            scroll-behavior: smooth;
        }

        header {
            text-align: center;
            margin-top: 40px; /* Optional: adds space above */
            margin-bottom: 30px; /* Optional: adds space below */
        }

        header h1{
            font-size: 2.8em;
        }

        header p {
            font-size: 1.4em;
            color: white; 
            max-width: 600px;
            margin: 0 auto;
        }
            .scroll-indicator {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            margin-top: 30px;
            }

        .arrow {
        width: 20px;
        height: 20px;
        display: inline-block;
        transform: rotate(45deg);
        border-right: 4px solid rgb(255, 255, 255);
        border-bottom: 4px solid rgb(255, 255, 255);
        opacity: 0;
        animation: scrollAnim 1.5s infinite;
        }

        .arrow:nth-child(2) {
        animation-delay: 0.2s;
        }

        .arrow:nth-child(3) {
        animation-delay: 0.4s;
        }

        @keyframes scrollAnim {
        0% {
            opacity: 0;
            transform: translateY(0) rotate(45deg);
        }
        50% {
            opacity: 1;
            transform: translateY(10px) rotate(45deg);
        }
        100% {
            opacity: 0;
            transform: translateY(20px) rotate(45deg);
        }
        }


        /* Go Home Button (House Image) Styling */
        .go-home {
            position: fixed;
            top: 20px;
            left: 20px;
            display: inline-block;
            padding: 10px;
            transition: transform 0.3s ease;
        }

        .go-home img {
            width: 60px; /* Adjust the size of the house image */
            height: 60px;
            transition: transform 0.3s ease;
        }

        .go-home:hover img {
            transform: scale(1.1); /* Slightly enlarge the image on hover */
        }

     /* Sidebar Base Styling */
     .sidebar {
            position: fixed;
            right: 0;
            top: 100px;
            width: 60px; /* Small width for sidebar */
            background-color: #333;
            color: white;
            padding-top: 20px;
            text-align: center;
            box-shadow: -2px 2px 10px rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            z-index: 10; /* Ensure the sidebar is above other content */
        }

        .sidebar ul {
            list-style-type: none;
            padding: 0;
        }

        .sidebar ul li {
            padding: 10px;
        }

        .sidebar ul li a {
            color: white;
            text-decoration: none;
            font-size: 16px;
            display: block;
        }

        .sidebar ul li a:hover {
            background-color: #555;
        }

        /* Hide sidebar */
        .is-hidden {
          display: none;
        }

        /* Hamburger Icon Styling */
        .hamburger-icon {
          position: fixed;
          right: 20px;
          top: 20px;
          z-index: 1000;
          cursor: pointer;
        }

        .hamburger-icon img {
          width: 60px;
          height: 60px;
        }

        .hamburger-icon:hover img {
            transform: scale(1.1); /* Slightly enlarge the image on hover */
        }

        /* Toggle Button */
        .sidebar-toggle {
            position: fixed;
            right: 20px;
            top: 20px;
            z-index: 1000;
            cursor: pointer;
        }

        .sidebar-toggle img {
            width: 60px;
            height: 60px;
        }

        /* Map Content Styling */
        #map-content {
            padding: 30px;
            background-color: #252525;
            border-radius: 10px;
            margin: 50px auto;
            width: 80%;
            text-align: center;
        }

        #map-container {
            margin-top: 30px;
        }

        #map-container iframe {
            width: 100%;
            height: 400px;
            border: none;
            border-radius: 8px;
        }

        /* Scroll to Top Button Styling */
        .scroll-top {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: #333;
            border: none;
            cursor: pointer;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s ease, transform 0.3s ease;
        }

        .scroll-top:hover {
            background-color: #555;
            transform: scale(1.1);
        }

        .scroll-top:active {
            background-color: #444;
            transform: scale(0.95);
        }

        /* Image inside button */
        .scroll-top img {
            width: 170px;
            height: 170px;
            object-fit: contain;
            transform: translate(-41px, -40px); /* Left and Up */
        }


        .scroll-container {
            width: 100%;
            }
        /* === Comic Panel Rows === */
        .panel-row {
            display: grid;
            gap: 20px;
            margin: 30px auto;
            padding: 0 2rem;
            max-width: 1200px;
            margin-top: 50px;
        }

        /* Flashback Panels */
        .flashback-panels {
            opacity: 0;  /* Initially hidden */
            transition: opacity 2s ease-in-out; /* Fade-in effect */
            width: 30%;  /* Set a fixed size for the images */
            height: auto;
            object-fit: contain;
            margin: 0 10px; /* Add some margin between each image */
        }

        /* When rotating, fade in the panels */
        .flashback-panels.visible {
            opacity: 1; /* Fade in to full visibility */
        }

        /* Flashback Panels container (to ensure spacing between panels) */
        #flashback-panels {
            display: flex;
            justify-content: space-between;
            gap: 30px;  /* Increased gap between the images */
            margin-bottom: 50px; /* Add space between panels and any content below */
        }

        /* To stagger the panels' fade-in delay */
        .flashback-panels:nth-child(1) {
            transition-delay: 0s; /* First image fades in immediately */
        }

        .flashback-panels:nth-child(2) {
            transition-delay: 0.3s; /* Second image fades in after 0.3s */
        }

        .flashback-panels:nth-child(3) {
            transition-delay: 0.6s; /* Third image fades in after 0.6s */
        }


        /* Responsive grid layout */
        .row-1 {
            grid-template-columns: 1fr;
        }

        .row-2 {
            grid-template-columns: 1fr 1fr;
        }

        .row-3 {
            grid-template-columns: 1fr 1fr 1fr;
        }

        @media (max-width: 1100px) {
            .row-2,
            .row-3 {
                grid-template-columns: 1fr;
            }

            .panel {
                width: 100%;
                height: auto;
                max-width: 100%;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
                object-fit: cover;
            }
        }

        .panel:hover {
            transform: scale(1.03);
        }

        /* IMAGE PANEL (fades in last) */
        .revealing-image {
            width: 100%;
            margin-top: 40px;
            opacity: 0;
            transition: opacity 2s ease 2s, transform 2s ease 2s; /* fade + slide + delay */
        }

        /* Chapter Wrapper */
        .chapter-wrapper {
            margin: 100px auto;
            padding: 80px 40px;
            background-color: #333;
            border-radius: 20px;
            width: 85%;
            max-width: 1200px;
            opacity: 0;
            transform: translateY(30px); /* Start with an off-screen effect */
            transition: opacity 1s ease-in-out, transform 1s ease-in-out; /* Animation on scroll */
        }

        /* Chapter Title */
        .chapter-title {
            font-size: 2.5em;
            font-weight: 800;
            margin-top: 200px;
            margin-bottom: 30px;
            color: white;
            text-align: center;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
            opacity: 0;
            transform: translateY(30px); /* Start off-screen */
            transition: opacity 1s ease-in-out, transform 1s ease-in-out;
        }

        /* Chapter Content (Text) */
        .chapter-content {
            color: white;
            text-align: center;
            font-size: 1.2em;
            max-width: 700px;
            margin: 0 auto 250px auto;
            opacity: 0;
            transform: translateY(30px); /* Start off-screen */
            transition: opacity 1s ease 0.7s, transform 1s ease 0.7s; /* delay of 0.5s */
        }

    
        /* Fullscreen & Auto Scroll Buttons - Circle Style */
        .fullscreen-btn,
        .auto-btn {
            position: fixed;
            bottom: 20px;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: #333;
            color: white;
            border: none;
            cursor: pointer;
            z-index: 999;
            transition: transform 0.3s ease, background-color 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
        }

        /* Individual Positioning */
        .fullscreen-btn {
            right: 140px;
        }

        .auto-btn {
            right: 50px;
        }

        /* Hover Effects */
        .fullscreen-btn:hover,
        .auto-btn:hover {
            background-color: #555;
            transform: scale(1.1);
        }

        .fullscreen-btn:active,
        .auto-btn:active {
            background-color: #444;
            transform: scale(0.95);
        }

        /* Zoom effect when hovering */
        .fullscreen-btn:hover,
        .auto-btn:hover {
            transform: scale(1.2); /* Slight zoom-in on hover */
        }

       /* Rain Overlay for Panel 1 */
        .rain-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none; /* Ensure the rain doesn't interfere with other interactions */
            z-index: 1;
            overflow: hidden;
        }

        /* Styling individual raindrops with faded look */
        .raindrop {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.3); /* Light, transparent color for raindrops */
            width: 3px; /* Thinner drops */
            height: 50px; /* Longer drops for the pouring effect */
            animation: fall 0.5s linear infinite; /* Animation to make raindrops fall */
        }

        /* Falling animation for rain */
        @keyframes fall {
            0% {
                transform: translateY(-210px); /* Start above the screen */
            }
            100% {
                transform: translateY(100vh); /* Move to the bottom of the screen */
            }
        }

        /* Adding some variation in raindrop positions and speeds */
        .rain-overlay .raindrop:nth-child(odd) {
            left: 5%;
            animation-duration: 0.4s; /* Faster drops for more intensity */
            animation-delay: 0.2s;
        }

        .rain-overlay .raindrop:nth-child(even) {
            left: 25%;
            animation-duration: 0.5s;
            animation-delay: 0.5s;
        }

        .rain-overlay .raindrop:nth-child(3) {
            left: 45%;
            animation-duration: 0.6s;
            animation-delay: 0.8s;
        }

        .rain-overlay .raindrop:nth-child(4) {
            left: 65%;
            animation-duration: 0.7s;
            animation-delay: 1s;
        }

        .rain-overlay .raindrop:nth-child(5) {
            left: 85%;
            animation-duration: 0.45s;
            animation-delay: 1.2s;
        }
      
       
       /* Thunder Animate for Panel 8 */
       @keyframes thunderShake {
        0%, 100% { transform: translate(0, 0); }
        5% { transform: translate(-30px, 25px); }
        10% { transform: translate(30px, -30px); }
        15% { transform: translate(-25px, 25px); }
        20% { transform: translate(25px, -20px); }
        25% { transform: translate(-20px, 15px); }
        30% { transform: translate(20px, -25px); }
        35% { transform: translate(-30px, 30px); }
        40% { transform: translate(30px, -30px); }
        45% { transform: translate(-25px, 25px); }
        50% { transform: translate(25px, -25px); }
      }

      .thunder-effect {
        animation: thunderShake 1.5s ease;
      }

      /* Pulse Animation for Panel 9 */
      @keyframes flamePulse {
          0% {
              transform: scale(1);
              opacity: 1;
              filter: brightness(1);
          }
          50% {
              transform: scale(1.06); /* Slightly grow */
              opacity: 0.85;
              filter: brightness(1.2); /* Slight brightness increase */
          }
          100% {
              transform: scale(1);
              opacity: 1;
              filter: brightness(1);
          }
      }

      /* Flame container style */
      .flame {
          width: 100px;
          height: 90px;
          position: absolute;
          top: 60.5%;
          left: 66%;
          transform: translate(-50%, -50%);
          animation: flamePulse 2s infinite ease-in-out; /* Apply pulse animation */
          z-index: 2;
      }

      /* Flame image */
      .flame img {
          width: 100%;
          height: 100%;
          object-fit: contain;
          display: block;
      }


      /* Shock Animation for Panel 15 */
        .shock-animation {
        position: relative;
        display: inline-block;
        animation: shock-pulse 0.6s ease-out;
      }

      @keyframes shock-pulse {
        0% {
          transform: scale(1);
        }
        30% {
          transform: scale(1.1);
        }
        100% {
          transform: scale(1);
        }
      }

      .shock-ripple {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 250px;
        height: 250px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 50%;
        transform: translate(-50%, -50%) scale(0);
        animation: ripple-burst 0.7s ease-out forwards;
        pointer-events: none;
      }

      @keyframes ripple-burst {
        to {
          transform: translate(-50%, -50%) scale(2);
          opacity: 0;
        }
      }

      .shock-exclamations {
        position: absolute;
        top: -100px;
        left: -5%;
        transform: translateX(-50%);
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 5rem;
        color: #fff;
        animation: exclamation-animation 1s ease-in-out infinite;
      }

      .shock-exclamations img {
        width: 410px;  /* Adjust size of the PNG image */
        height: auto;
      }

      @keyframes exclamation-animation {
        0% {
          transform: scale(1);
          opacity: 0.8;
        }
        50% {
          transform: scale(1.2); /* Only pulse */
          opacity: 1;
        }
        100% {
          transform: scale(1);
          opacity: 0.8;
        }
      }

      @keyframes exclamation-fade {
        0% {
          opacity: 0;
        }
        50% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }


      /* Add this to make the shock effect conditional */
    .shock-animation.shock-active .shock-ripple {
      animation: ripple-burst 0.7s ease-out forwards;
    }

    .shock-animation.shock-active .shock-exclamations {
      animation: exclamation-animation 1s ease-in-out infinite;
    }

    /* Initially hide the letter */
      .is-hidden {
        display: none;
      }

      /* Styling for the letter container */
      #letterSection {
        text-align: center; /* Center the content */
        margin-top: 50px;
        padding: 20px;
      }

      /* Basic styles for the letter */
      .letter {
        padding: 100px 50px; /* Increased padding for more space inside the letter */
        background-image: url('letter.png'); /* Set the PNG background */
        background-size: contain; /* Ensure the image is fully visible */
        background-repeat: no-repeat; /* Prevent img from repeating */
        background-position: top center; /* Center the image */
        max-width: 1000px; /* Further increased max width for better readability */
        max-height: 700px; /* Set a max height to allow for bigger letter */
        margin: 70px auto; /* Increased margin for more space around the letter */
        font-family: Arial, sans-serif;
        text-align: left;
        color: black; /* Set text color to black */
        line-height: 1.6; /* Increased line height for better readability */
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1); /* Added more shadow for better depth */
        position: relative; /* Allows precise positioning of text */

        /* Flexbox to center content vertically and horizontally */
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;
          text-align: center; /* Ensures text is centered */
      }


     /* Styling for the text inside the letter */
      .letter p {
        font-size: 20px; /* Smaller text size */
        position: relative;
        z-index: 2; /* Ensure text appears above the background image */
        margin-bottom: 20px; /* Space between text elements */
        margin-top: 50px;
      }

      /* Button styling */
      button {
        padding: 16px 32px;
        background-color: #3498db;
        color: white;
        border: none;
        cursor: pointer;
        font-size: 18px;
        border-radius: 5px; /* Rounded corners */
        margin: 20px 0; /* Add some space between buttons */
        transition: background-color 0.3s;
      }

      button:hover {
        background-color: #2980b9;
      }

      button:focus {
        outline: none;
      }

      /* Add spacing between the panels and the text above the letter section */
      .letter-notice {
        text-align: center;
        margin-top: 20px;
        font-size: 18px;
        line-height: 1.5;
      }

      /* Add space around the section */
      #letterSection {
        margin-top: 50px;
        padding: 20px;
      }


      /* Styling for the clock-wrapper */

        .challenge-heading {
        font-size: 2rem;
        color: #4d9ed8;
        margin-bottom: 10px;
        text-transform: uppercase;
        font-weight: 700;
        letter-spacing: 1px;
        text-align: center;
      }

      #compass-container {
        margin-top: 100px;
        text-align: center;
      }

      #compass-wrapper {
        position: relative;
        width: 300px;
        height: 300px;
        margin: 60px auto 0;
      }

      #compass-img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) rotate(0deg);
        transform-origin: 50% 50%;
        transition: transform 0.3s ease;
      }

      #compass-rotation {
        width: 100%;
        max-width: 400px;
        margin: 30px auto 0;
        display: block;
      }

      #compass-text {
        margin-top: 25px;
        font-style: italic;
        color: #ccc;
        text-align: center;
      }

        footer {
        background-color: #1a1a1a;;
        color: white;
        text-align: center;
        padding: 30px 0;
        font-size: 1em;
        opacity: 0.8;
        margin-top: 60px;
        }

    </style>
</head>
<body>

    <header>
        <h1>WELCOME TO NORMAN'S ADVENTURE</h1>
        <p>SCROLL TO UNCOVER HIS JOURNEY</p>
        <div class="scroll-indicator">
            <span class="arrow"></span>
            <span class="arrow"></span>
            <span class="arrow"></span>
        </div>
    </header>

    <!-- Go Home Button (House Image) -->
    <a href="index.html" class="go-home">
        <img src="house-icon.png" alt="Go Home"> 
    </a>

     <!-- Hamburger Icon to Toggle Sidebar -->
     <div id="hamburgerIcon" class="hamburger-icon">
        <img src="hamburger-icon.png" alt="Hamburger Icon">
    </div>

   

    <!-- Sidebar with Chapter Links (on the far right) -->
    <div id="sidebar" class="sidebar is-hidden">
        <ul>
            <li><a href="#chapter1">Ch. 1</a></li>
            <li><a href="#chapter2">Ch. 2</a></li>
            <li><a href="#chapter3">Ch. 3</a></li>
            <li><a href="#chapter4">Ch. 4</a></li>
            <li><a href="#chapter5">Ch. 5</a></li>
            <li><a href="#chapter6">Epilogue</a></li>
        </ul>
    </div>


    <!-- Chapter Sections -->
<!-- CHAPTER 1 -->
<div id="chapter1">
  <h2 class="chapter-title hidden">CHAPTER 1: The House</h2>
  <section class="chapter-section">
      <div class="chapter-content">
          <p class="hidden">"I should’ve left this place a long time ago, but I can’t bring myself to."</p>
          <p class="hidden"><br><em>(He pauses, staring at the words on the screen, then quickly highlights and deletes them, frustrated.)</em></p>
          <p class="hidden"><br>"No, that’s not it..."</p>
          <p class="hidden"><br><em>(He taps his fingers on the keyboard, sighs deeply, and starts again.)</em></p>

          <!-- First Panel Row with One Panel -->
          <div class="panel-row row-1 hidden">
              <img id="panel_1" class="panel revealing-image" src="Panel_1.png" alt="Chapter 1 Panel 1">
              <div class="rain-overlay">
                  <!-- These divs simulate raindrops -->
                  <div class="raindrop"></div>
                  <div class="raindrop"></div>
                  <div class="raindrop"></div>
                  <div class="raindrop"></div>
                  <div class="raindrop"></div>
                  <!-- Add as many raindrop divs as needed -->
              </div>  
          </div>

          <p class="hidden"><br>"The truth is... I’ve been stuck here. In this house. Alone."</p>
          <p class="hidden"><br><em>(He deletes that, too, frustrated, muttering under his breath.)</em></p>
          <p class="hidden"><br>"The silence is overwhelming. The storms rage outside, thunder shaking the walls, rain leaking through the roof, but I still stay. Why do I stay?"</p>
          <p class="hidden"><br><em>(He puts his hands over his face, deletes everything, and sighs.)</em></p>
          <p class="hidden"><br>"The house hasn’t changed much. The roof still leaks, the walls are warped, and vines have swallowed the outside. But it’s home... or whatever’s left of it. Some days, I wonder if it’ll collapse before I do."</p>
          <p class="hidden"><br><em>(He reads it over, hesitates, and deletes everything at once.)</em></p>

          <!-- Second Panel Row with Two Panels -->
          <div class="panel-row row-2 hidden">
              <img class="panel revealing-image" src="Panel_2.png" alt="Chapter 1 Panel 2">
              <img class="panel revealing-image" src="Panel_3.png" alt="Chapter 1 Panel 3">
          </div>

          <p class="hidden"><br>"I stare at the blank screen, trying to make sense of it all. But nothing comes to mind."</p>
          <p class="hidden"><br>"My fingers hover over the keys, and all I can think of is <em>Him.</em>"</p>

          <!-- Interactivity trigger -->
          <section id="compass-container">
              <div>
                  <h2 class="challenge-heading">Challenge #1</h2>
                  <label for="compass-rotation" class="compass-label">
                      <span class="challenge-text">Spin the Compass</span> to Help Norman Remember His Past!
                  </label>
          
                  <p id="compass-text">
                      Drag to Rotate the Compass (<output id="compass-value">0</output> degrees)
                  </p>
              </div>
          
              <!-- Compass layout -->
              <div id="compass-wrapper">
                  <div id="compass">
                      <img id="compass-img" src="compass-icon.png" alt="Compass">
                  </div>
              </div>
          
              <!-- Range input to control the compass needle rotation -->
              <input type="range" id="compass-rotation" min="0" max="360" value="0" step="1">
          </section>

          <!-- Third Panel Row with Three Panels -->
          <div id="flashback-panels" class="panel-row row-3">
              <img class="panel flashback-panels" src="Panel_4.png" alt="Chapter 1 Panel 4">
              <img class="panel flashback-panels" src="Panel_5.png" alt="Chapter 1 Panel 5">
              <img class="panel flashback-panels" src="Panel_6.png" alt="Chapter 1 Panel 6">
          </div>

          <p class="hidden"><br><em>I remember my mother, standing at my dad's grave with her.<br><br> I remember how she didn’t say a word. She didn’t need to. Her silence spoke louder than any answer could.</em></p>
          <p class="hidden"><br><em>I remember the way her hand trembled as she handed me my father's book.</em></p>
          <p class="hidden"><br><em>Maybe, it was her way of telling me everything she couldn’t. But how could I have known?</em></p>
          <p class="hidden"><br><em>I didn’t understand it then.<br><br>And, I still don't now.</em></p>

          <!-- Fourth Panel Row with One Panel -->
          <div class="panel-row row-1 hidden">
              <img class="panel revealing-image" src="Panel_7.png" alt="Chapter 1 Panel 7">
          </div>

          <p class="hidden"><br><em>(Norman snaps back to reality, the weight of the past still lingering in the back of his mind.)</em></p>
          <p class="hidden"><br>"I take a deep breath, trying to shake off the memories, and glance around the room."</p>
          <p class="hidden"><br>"There it is—the book my mom handed me all those years ago."</p>
          <p class="hidden"><br>"It’s been sitting there, <em>untouched.</em>"</p>

          <!-- Fifth Panel Row with Two Panels -->
          <div class="panel-row row-1 hidden">
              <img id="panel-8" class="panel revealing-image" src="Panel_8.png" alt="Chapter 1 Panel 8">
              <audio id="thunderSound" src="thunder.mp3" preload="auto"></audio>
          </div>

          <p class="hidden"><br><em>(Meanwhile, a storm starts to rage outside, lightning cracking through the sky.)</em></p>

          <!-- Sixth Panel Row with One Panel -->
          <div class="panel-row row-2 hidden">
              <img id="panel_9" class="panel revealing-image" src="Panel_9.png" alt="Chapter 1 Panel 9">
              <img id="panel_10" class="panel revealing-image" src="Panel_10.png" alt="Chapter 1 Panel 10">
              <div class="flame">
                <img src="flame-image.png" alt="Flame"> 
            </div>
        </div>

          <p class="hidden"><br>"The lights flicker, then just like that, everything goes dark."</p>
          <p class="hidden"><br>"I take a deep breath, the silence heavier now."</p>
          <p class="hidden"><br>"I fumble around until I find a candle. I light it, the dim flame flickers as I make my way down the stairs."</p>
          <p class="hidden"><br>"My footsteps echo as I make my way down the stairs, each step more unsettling than the last."</p>

          <!-- Seventh Panel Row with Three Panels -->
          <div class="panel-row row-2 hidden">
              <img class="panel revealing-image" src="Panel_11.png" alt="Chapter 1 Panel 11">
              <img class="panel revealing-image" src="Panel_12.png" alt="Chapter 1 Panel 12">
          </div>

          <p class="hidden"><br>"When I reach the fuse box, my fingers brushing against the cold metal.<br><br> My unease grows with each passing second."</p>
          <p class="hidden"><br>"I flip the switch, but the darkness remains. A chill runs down my spine."</p>
          <p class="hidden"><br>"Then I freeze."</p>
          <p class="hidden"><br>"There, just outside the window, a crow. It flaps its wings and lands on the nearby sill.<br><br>"I can’t look away."</p>

          <!-- Eighth Panel Row with Three Panels -->
          <div class="panel-row row-2 hidden">
              <img class="panel revealing-image" src="Panel_13.png" alt="Chapter 1 Panel 13">
              <img class="panel revealing-image" src="Panel_14.png" alt="Chapter 1 Panel 14">
          </div>

          <p class="hidden"><br>"The crow stands there, its beak clenched around something."<br><br>"I move closer, drawn to it"</p>
          <p class="hidden"><br>"It’s a letter."</p>
          <p class="hidden"><br>"The bird doesn’t flinch as I reach out, carefully taking it from its grasp."</p>
          <p class="hidden"><br>"Unfolding the paper,<br><br>I begin to read..."</p>

          <!-- Section containing the button and letter -->
          <section id="letterSection">
              <!-- Button to Open the Letter -->
              <button id="openLetterButton">Read Letter</button>

              <!-- The Letter Container -->
              <div id="letterContainer" class="is-hidden">
                  <div class="letter">
                      <p><strong>Dear Norman,</strong></p>
                      <p>There’s only so much I can say right now.<br> I know the past few years have been incredibly tough on you, but it’s time to move forward.<br> The answers will come in time. You’ll understand soon enough.<br>With love,<br><br> Dad.</p>
                           <!-- Button to Close the Letter -->
                           <button id="closeLetterButton">Fold Letter</button>
                          </div>
                      </div>
                  </section>
                
          <!-- Nineth Panel Row with One Panel -->
          <div class="panel-row row-1 hidden shock-effect">
            <div class="shock-animation" id="shock_panel">
                <img class="panel revealing-image" src="Panel_15.png" alt="Chapter 1 Panel 15">
                <div class="shock-ripple"></div> <!-- ripple visual -->
                <div class="shock-exclamations">
                    <img src="exclamation-image.png" alt="Shock Exclamation" class="shock-img">
                </div> <!-- Exclamation marks effect -->
            </div>
        </div>

        <p class="hidden">(Norman’s eyes widen, stunned by the revelation of the letter.)</p> 
        <p class="hidden"><br>"The words blur for a moment, my mind struggling to process what I just read."</p>
        <p class="hidden"><br>"I can feel my pulse quicken as the shock of the revelation hits me: my father... <em>he's alive"</em></p> 
        <p class="hidden"><br><em>"How could that be ?"</em></p>

        </div>
      </section>
    </div>
   

  <!-- CHAPTER 2 -->
  <div id="chapter2">
    <h2 class="chapter-title hidden">CHAPTER 2: The Map</h2>
    <section class="chapter-section">
    <section class="chapter-content">
        <p class="hidden">This chapter introduces the main characters...</p>

        <!-- First Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="cover_page.png" alt="Chapter 2 Panel 1">
          <img class="panel revealing-image" src="chapter2-img2.jpg" alt="Chapter 2 Panel 2">
        </div>
    
        <p class="hidden">The air was thick with dust, and every step echoed against the cold stone floors.</p>
    
        <!-- Second Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter2-img3.jpg" alt="Chapter 2 Panel 3">
          <img class="panel revealing-image" src="chapter2-img4.jpg" alt="Chapter 2 Panel 4">
        </div>
    
        <p class="hidden">They didn’t know it yet, but what waited beyond those walls would change them forever...</p>
    
        <!-- Third Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter2-img5.jpg" alt="Chapter 2 Panel 5">
          <img class="panel revealing-image" src="chapter2-img6.jpg" alt="Chapter 2 Panel 6">
        </div>
    
        <p class="hidden">As the map is uncovered, the mystery deepens, and the path forward becomes clearer.</p>
    
        <!-- Fourth Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter2-img7.jpg" alt="Chapter 2 Panel 7">
          <img class="panel revealing-image" src="chapter2-img8.jpg" alt="Chapter 2 Panel 8">
        </div>
    
        <p class="hidden">They begin to decipher the ancient symbols on the map, each one telling a story of its own.</p>
    
        <!-- Fifth Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter2-img9.jpg" alt="Chapter 2 Panel 9">
          <img class="panel revealing-image" src="chapter2-img10.jpg" alt="Chapter 2 Panel 10">
        </div>
    
        <p class="hidden">The group realizes they must act quickly before the map’s secrets are lost forever.</p>
    
        <!-- Sixth Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter2-img11.jpg" alt="Chapter 2 Panel 11">
          <img class="panel revealing-image" src="chapter2-img12.jpg" alt="Chapter 2 Panel 12">
        </div>
    </section>
  </div>
  
  <!-- CHAPTER 3 -->
  <div id="chapter3">
    <h2 class="chapter-title hidden">CHAPTER 3: The Cabin</h2>
    <section class="chapter-section">
      <div class="chapter-content">
        <p class="hidden">This chapter introduces the main characters...</p>

        <!-- First Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="cover_page.png" alt="Chapter 3 Panel 1">
          <img class="panel revealing-image" src="chapter3-img2.jpg" alt="Chapter 3 Panel 2">
        </div>
    
        <p class="hidden">The air was thick with dust, and every step echoed against the cold stone floors.</p>
    
        <!-- Second Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter3-img3.jpg" alt="Chapter 3 Panel 3">
          <img class="panel revealing-image" src="chapter3-img4.jpg" alt="Chapter 3 Panel 4">
        </div>
    
        <p class="hidden">They didn’t know it yet, but what waited beyond those walls would change them forever...</p>
    
        <!-- Third Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter3-img5.jpg" alt="Chapter 3 Panel 5">
          <img class="panel revealing-image" src="chapter3-img6.jpg" alt="Chapter 3 Panel 6">
        </div>
    
        <p class="hidden">As the map is uncovered, the mystery deepens, and the path forward becomes clearer.</p>
    
        <!-- Fourth Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter3-img7.jpg" alt="Chapter 3 Panel 7">
          <img class="panel revealing-image" src="chapter3-img8.jpg" alt="Chapter 3 Panel 8">
        </div>
    
        <p class="hidden">They begin to decipher the ancient symbols on the map, each one telling a story of its own.</p>
    
        <!-- Fifth Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter3-img9.jpg" alt="Chapter 3 Panel 9">
          <img class="panel revealing-image" src="chapter3-img10.jpg" alt="Chapter 3 Panel 10">
        </div>
    
        <p class="hidden">The group realizes they must act quickly before the map’s secrets are lost forever.</p>
    
        <!-- Sixth Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter3-img11.jpg" alt="Chapter 3 Panel 11">
          <img class="panel revealing-image" src="chapter3-img12.jpg" alt="Chapter 3 Panel 12">
        </div>
    </section>
  </div>
  
  <!-- CHAPTER 4 -->
  <div id="chapter4">
    <h2 class="chapter-title hidden">CHAPTER 4: The Tower</h2>
    <section class="chapter-section">
      <div class="chapter-content">
        <p class="hidden">This chapter introduces the main characters...</p>

        <!-- First Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="cover_page.png" alt="Chapter 4 Panel 1">
          <img class="panel revealing-image" src="chapter4-img2.jpg" alt="Chapter 4 Panel 2">
        </div>
    
        <p class="hidden">The air was thick with dust, and every step echoed against the cold stone floors.</p>
    
        <!-- Second Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter4-img3.jpg" alt="Chapter 4 Panel 3">
          <img class="panel revealing-image" src="chapter4-img4.jpg" alt="Chapter 4 Panel 4">
        </div>
    
        <p class="hidden">They didn’t know it yet, but what waited beyond those walls would change them forever...</p>
    
        <!-- Third Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter4-img5.jpg" alt="Chapter 4 Panel 5">
          <img class="panel revealing-image" src="chapter4-img6.jpg" alt="Chapter 4 Panel 6">
        </div>
    
        <p class="hidden">As the map is uncovered, the mystery deepens, and the path forward becomes clearer.</p>
    
        <!-- Fourth Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter4-img7.jpg" alt="Chapter 4 Panel 7">
          <img class="panel revealing-image" src="chapter4-img8.jpg" alt="Chapter 4 Panel 8">
        </div>
    
        <p class="hidden">They begin to decipher the ancient symbols on the map, each one telling a story of its own.</p>
    
        <!-- Fifth Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter4-img9.jpg" alt="Chapter 4 Panel 9">
          <img class="panel revealing-image" src="chapter4-img10.jpg" alt="Chapter 4 Panel 10">
        </div>
    
        <p class="hidden">The group realizes they must act quickly before the map’s secrets are lost forever.</p>
    
        <!-- Sixth Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter4-img11.jpg" alt="Chapter 4 Panel 11">
          <img class="panel revealing-image" src="chapter4-img12.jpg" alt="Chapter 4 Panel 12">
        </div>
    </section>
  </div>
  
  <!-- CHAPTER 5 -->
  <div id="chapter5">
    <h2 class="chapter-title hidden">CHAPTER 5: The Oak Tree</h2>
    <section class="chapter-section">
    <div class="chapter-content">
        <p class="hidden">This chapter introduces the main characters...</p>

        <!-- First Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="cover_page.png" alt="Chapter 5 Panel 1">
          <img class="panel revealing-image" src="chapter5-img2.jpg" alt="Chapter 5 Panel 2">
        </div>
    
        <p class="hidden">The air was thick with dust, and every step echoed against the cold stone floors.</p>
    
        <!-- Second Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter5-img3.jpg" alt="Chapter 5 Panel 3">
          <img class="panel revealing-image" src="chapter5-img4.jpg" alt="Chapter 5 Panel 4">
        </div>
    
        <p class="hidden">They didn’t know it yet, but what waited beyond those walls would change them forever...</p>
    
        <!-- Third Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter5-img5.jpg" alt="Chapter 5 Panel 5">
          <img class="panel revealing-image" src="chapter5-img6.jpg" alt="Chapter 5 Panel 6">
        </div>
    
        <p class="hidden">As the map is uncovered, the mystery deepens, and the path forward becomes clearer.</p>
    
        <!-- Fourth Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter5-img7.jpg" alt="Chapter 5 Panel 7">
          <img class="panel revealing-image" src="chapter5-img8.jpg" alt="Chapter 5 Panel 8">
        </div>
    
        <p class="hidden">They begin to decipher the ancient symbols on the map, each one telling a story of its own.</p>
    
        <!-- Fifth Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter5-img9.jpg" alt="Chapter 5 Panel 9">
          <img class="panel revealing-image" src="chapter5-img10.jpg" alt="Chapter 5 Panel 10">
        </div>
    
        <p class="hidden">The group realizes they must act quickly before the map’s secrets are lost forever.</p>
    
        <!-- Sixth Panel Row with Two Panels -->
        <div class="panel-row row-2 hidden">
          <img class="panel revealing-image" src="chapter5-img11.jpg" alt="Chapter 5 Panel 11">
          <img class="panel revealing-image" src="chapter5-img12.jpg" alt="Chapter 5 Panel 12">
        </div>
    </section>
  </div>
  


  <!-- EPILOGUE -->
  <div id="chapter6">
    <h2 class="chapter-title hidden">EPILOGUE: The Book</h2>
    <section class="chapter-section">
      <div class="chapter-content">
        <p class="hidden">This chapter introduces the main characters...</p>

        <!-- First Panel Row with Two Panels -->
        <div class="panel-row row-1 hidden">
          <img class="panel revealing-image" src="cover_page.png" alt="Epilogue Panel 1">
        </div>
    
        <p class="hidden">The air was thick with dust, and every step echoed against the cold stone floors.</p>
    
        <!-- Second Panel Row with Two Panels -->
        <div class="panel-row row-1 hidden">
          <img class="panel revealing-image" src="cover_page.png" alt="Epilogue Panel 2">
        </div>
    </section>
  </div>
  
      

    <footer>
        <!-- Scroll-to-Top Button -->
        <a href="#" class="scroll-top" id="scrollTopBtn">
            <img src="up-arrow.png" alt="Up">
        </a>

   <!-- Auto and Fullscreen Buttons -->
<button class="auto-btn" id="autoScrollButton" onclick="autoScroll()">
    <img src="auto-icon.png" alt="Auto Scroll" style="width: 70px; height: 70px;">
</button>

<button class="fullscreen-btn" id="fullscreenButton" onclick="toggleFullscreen()">
    <img src="fullscreen-icon.png" alt="Fullscreen" style="width: 50px; height: 50px;">
</button>

<p>&copy; 2025 No Ideas. All Rights Reserved.</p>
    </footer>

    
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // --- Scroll to Chapter from URL ---
        function getQueryParam(param) {
          const urlParams = new URLSearchParams(window.location.search);
          return urlParams.get(param);
        }
      
        const chapterId = getQueryParam('chapter');
        if (chapterId) {
          const target = document.getElementById(chapterId);
          if (target) {
            setTimeout(() => {
              target.scrollIntoView({ behavior: 'smooth' });
            }, 200);
          }
        }
      
        // --- Show all .hidden in chapter1 ---
        const chapter1 = document.querySelector("chapter1");
        if (chapter1) {
          const hiddenElements = chapter1.querySelectorAll(".hidden");
          hiddenElements.forEach(el => el.classList.remove("hidden"));
        }
      
        // --- Rain Animation on Panel 1 ---
        const panel1 = document.getElementById('panel_1');
        const rainOverlay = document.querySelector('.rain-overlay');
      
        function triggerRainEffect() {
          rainOverlay.classList.add('rain-animation');
        }
      
        window.addEventListener('scroll', () => {
          if (panel1) {
            const rect = panel1.getBoundingClientRect();
            const inView = rect.top < window.innerHeight && rect.bottom > 0;
            if (inView) {
              triggerRainEffect();
            }
          }
      
          // Scroll-to-top button
          const scrollTopBtn = document.getElementById('scrollTopBtn');
          if (scrollTopBtn) {
            if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
              scrollTopBtn.style.display = 'block';
            } else {
              scrollTopBtn.style.display = 'none';
            }
          }
      
          // Section reveals on scroll
          revealSections();
        });
 
      
        // --- Scroll to top button click ---
        const scrollTopBtn = document.getElementById('scrollTopBtn');
        if (scrollTopBtn) {
          scrollTopBtn.addEventListener('click', (e) => {
            e.preventDefault();
            window.scrollTo({ top: 0, behavior: 'smooth' });
          });
        }

        // --- Fullscreen Toggle Function ---
        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch(err => {
                    console.log(`Error attempting to enable full-screen mode: ${err.message}`);
                });
            } else {
                document.exitFullscreen();
            }
        }

        // --- Auto Scroll Function with Your Original Values ---
        let scrolling;
        function autoScroll() {
            if (scrolling) {
                clearInterval(scrolling);
                scrolling = null;
            } else {
                scrolling = setInterval(() => {
                    window.scrollBy(0, 2);  // Scrolls down by 2px every interval
                }, 50);  // Adjusted time interval for smoother scrolling
            }
        }

        // Add event listeners for the buttons (Optional, if you want to avoid inline event handlers)
        document.getElementById('autoScrollButton').addEventListener('click', autoScroll);
        document.getElementById('fullscreenButton').addEventListener('click', toggleFullscreen);


      
        // --- Sidebar Open/Close ---
        function toggleSidebar() {
        const sidebar = document.getElementById('sidebar');
        sidebar.classList.toggle('is-hidden');
      }

      const sidebar = document.getElementById('sidebar');
      const hamburgerIcon = document.getElementById('hamburgerIcon');

      // Track if sidebar is open or not
      let isSidebarOpen = false;

      hamburgerIcon.addEventListener('click', () => {
        if (isSidebarOpen) {
          sidebar.classList.add('is-hidden'); // Close it
        } else {
          sidebar.classList.remove('is-hidden'); // Open it
        }
        isSidebarOpen = !isSidebarOpen; // Flip the state
      });
                  
        // --- Intersection Observer for Titles and Chapter Content ---
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              const target = entry.target;
              target.classList.add('visible');
      
              if (target.classList.contains('chapter-content')) {
                const images = target.querySelectorAll('.revealing-image');
                images.forEach((img, i) => {
                  setTimeout(() => img.classList.add('visible'), 1000 + i * 300);
                });
              }
            }
          });
        }, { threshold: 0.2 });
      
        document.querySelectorAll('.chapter-title, .chapter-content').forEach(el => {
          observer.observe(el);
        });
      
        // --- Thunder Shake for Panel 8 ---
        const panel8 = document.getElementById('panel-8');
        const thunderSound = document.getElementById('thunderSound');
        let hasPlayedThunder = false;
      
        window.addEventListener('scroll', () => {
          if (panel8 && thunderSound && !hasPlayedThunder) {
            const rect = panel8.getBoundingClientRect();
            const inView = rect.top < window.innerHeight && rect.bottom > 0;
      
            if (inView) {
              triggerThunderShake();
              hasPlayedThunder = true;
            }
          }
        });
      
        function triggerThunderShake() {
          let shakeCount = 0;
          const totalShakes = 3;
      
          if (panel8.classList.contains('thunder-effect')) return;
      
          const shakeInterval = setInterval(() => {
            panel8.classList.add('thunder-effect');
            thunderSound.play();
      
            setTimeout(() => {
              panel8.classList.remove('thunder-effect');
            }, 1500);
      
            shakeCount++;
            if (shakeCount >= totalShakes) {
              clearInterval(shakeInterval);
            }
          }, 1500);
        }

        // Function to check if the panel is in the viewport
        function isElementInView(el) {
            const rect = el.getBoundingClientRect();
            return (
                rect.top >= 0 && rect.left >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && rect.right <= (window.innerWidth || document.documentElement.clientWidth)
            );
        }

        // Function to reveal the panel and trigger flicker animation
        function isElementInView(el) {
            const rect = el.getBoundingClientRect();
            return (
                rect.top >= 0 && rect.left >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && rect.right <= (window.innerWidth || document.documentElement.clientWidth)
            );
        }

        // Flicker Animation for Panel 9
        function revealPanelOnScroll() {
            const panel = document.getElementById('panel_9'); // Target the specific panel by ID

            if (isElementInView(panel)) {
                const panelRow = panel.closest('.panel-row'); // Get the row containing the panel

                // Make the panel visible
                panelRow.classList.remove('hidden');

                // Add the flicker effect
                panel.classList.add('flicker');

                // Optional: Remove the flicker class after a certain time if you want the flicker to stop
                setTimeout(() => {
                    panel.classList.remove('flicker');
                }, 2000); // Stops flickering after 2 seconds (you can adjust the time)
            }
        }

        // Listen for scroll events and check if the panel is in view
        window.addEventListener('scroll', revealPanelOnScroll);

        // Optional: Call once on load to check if the panel is already in view (for users who may have landed on the page with the panel already visible)
        document.addEventListener('DOMContentLoaded', revealPanelOnScroll);
        

        // Flame Flicker Animation for Panel 10
        const panel10 = document.getElementById('panel-10');
        const flame = document.querySelector('#panel-10 .flame');

        function isInViewport(element) {
          const rect = element.getBoundingClientRect();
          return rect.top < window.innerHeight && rect.bottom > 0;
        }

        window.addEventListener('scroll', () => {
          if (panel10 && flame) {
            if (isInViewport(panel10)) {
              flame.style.animationPlayState = 'running';
            } else {
              flame.style.animationPlayState = 'paused';
            }
          }
        });


        // --- Shock Effect for Panel 15 ---
        const shockImg = document.getElementById('shock_panel');
        if (shockImg) {
          const shockObserver = new IntersectionObserver(entries => {
            entries.forEach(entry => {
              if (entry.isIntersecting && !shockImg.classList.contains('shocked')) {
                shockImg.classList.add('shocked');
              }
            });
          }, { threshold: 0.5 });
      
          shockObserver.observe(shockImg);
        }
      
        // --- Letter Button Interactions ---
      const closeLetterButton = document.getElementById('closeLetterButton');
      const letterContainer = document.getElementById('letterContainer');

      // Add event listener to the open button
      openLetterButton.addEventListener('click', () => {
        // Show the letter by removing the 'is-hidden' class
        letterContainer.classList.remove('is-hidden');
      });

      // Add event listener to the close button
      closeLetterButton.addEventListener('click', () => {
        // Hide the letter by adding the 'is-hidden' class back
        letterContainer.classList.add('is-hidden');
      });

  
            
        // --- Compass Rotation ---
        const compass = document.getElementById('compass-img');
        const compassRotation = document.getElementById('compass-rotation');
        const compassValue = document.getElementById('compass-value');
      
        if (compass && compassRotation && compassValue) {
          compassRotation.addEventListener('input', () => {
            const degrees = compassRotation.value;
            compass.style.transform = `translate(-50%, -50%) rotate(${degrees}deg)`;
            compassValue.textContent = degrees;
          });
      
          compassRotation.addEventListener('input', () => {
            document.querySelectorAll('.flashback-panels').forEach(panel => {
              panel.classList.add('visible');
            });
          });
        }
      });

      // Select all elements with class 'revealing-image', 'chapter-wrapper', 'chapter-title', and 'chapter-content'
      const elements = document.querySelectorAll('.revealing-image, .chapter-wrapper, .chapter-title, .chapter-content');

      // Intersection Observer setup
      const observerOptions = {
        root: null, // Viewport
        threshold: 0.1, // Trigger when 10% of the element is visible
      };

      const observer = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            // Add the necessary styles to trigger the animations
            entry.target.style.opacity = 1;
            entry.target.style.transform = 'translateY(0)';
            
            // Optionally, stop observing the element after it becomes visible
            observer.unobserve(entry.target);
          }
        });
      }, observerOptions);

      // Observe each element
      elements.forEach(element => {
        observer.observe(element);
      });

      // Optional: You can also add a fallback for page load if you need the effect immediately
      window.addEventListener('load', () => {
        elements.forEach(element => {
          element.style.opacity = 1;
          element.style.transform = 'translateY(0)'; // Ensure elements are visible once page loads
        });
      });

      </script>










  

   







  
    // To Make sure page loads all content the first time

    
    

<audio id="thunderSound" src="thunder.mp3" preload="auto"></audio>


</body>
</html>







